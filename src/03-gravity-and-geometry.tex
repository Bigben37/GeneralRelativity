\chapter{Gravity and Geometry}
The observable universe is stable. There are two obvious configurations in which this is possible:
\begin{enumerate}
    \item Static universe, masses are arranged in a grid, all nett forces cancel.
    However small fluctuations cause the system to collapse therefore this is
    no possible description for the universe. 
%TODO picture
    \item Expanding universe, all masses move away from each other, overcoming the gravitational attraction.
    Theoretically such a system can be described by using Newtonian Physics introducing additional energy contributions.
    This turns out to be inconsistent.
\end{enumerate}
Since in the second description all particles are accelerated relative to each other, there are no inertial systems.
A theory in which all observers are equal must therefore be local and thus be described by means of differential geometry.
We claim that the laws of physics are the same in every system.
If we assume that the \name{Maxwell} equations are right, the
\name{Newton}ian theory of gravity must be wrong.
%TODO is use of small capitals good practice?
Implications:
All free falling systems are equivalent (i.e. indistinguishable by the observer).
Light must bend, otherwise a beam could be used to deduce whether your system is inertial.
The following example illustrates that \name{Euclid}ean geometry is no
adequate description of space-time.
\begin{example}[Rotationg Sphere]
see Introduction to tensor calculus
%TODO copy or reference page
\end{example}
\section{Coordinate Systems}
We will start by studying coordinate systems in the flat space $\Reals^2$, which
is assumed to be familiar.
\subsection*{Cartesian Coordinates}
Cartesian coordinates are described by two coordinates $x,y$ that are measured
in two orthogonal directions from the origin. The distance $s$ between two
arbitrary points $(x_1,y_1)$ and $(x_2,y_2)$ can be calculated using
\name{Pythagoras}' theorem
% \begin{figure}[htb]
%     \begin{center}
%         \begin{tikzpicture}[scale=2]
%             \draw [<->,thick] (0,2) |- (2,0);
%             \draw [help lines,dashed](0,1.25) -| (1.25,0);
%             \draw [->] (0,0) -- (1.25,1.25);
%             %\node [above] at (.6250,1.25) {$x$};
%             %\node [right] at (1.25,.6250) {$y$};
%             \node [left]at (0,1.25) {$y$};
%             \node [below]at (1.25,0) {$x$};
%         \end{tikzpicture}
%     \end{center}
%     \caption{Cartesian coordinates.}
% \end{figure}
\begin{equation}
    s^2=(x_1-x_2)^2+(y_1-y_2)^2\,.
\end{equation}
An infinitesimal distance is likewise given by
\begin{equation}
    \dif s^2=\dif x^2+\dif y^2\,.  \label{eq:cartline}
\end{equation}
\subsection*{Polar Coordinates}
If we describe a point in flat space by an angle $\varphi$ and an distance $r$
from the origin, we get polar coordinates. The conversion between the systems
reads
\begin{equation}
    x= r\cos\varphi\quad y= r\sin\varphi\,.
\end{equation}
A infinitival change in the polar coordinates therefore results in 
\begin{align}
    \dif x&= \dpd{x}{r}\dif r+\dpd{x}{\varphi}\dif \varphi = \cos\varphi\dif
    r-r\sin\varphi\dif \varphi\,,\\
    \dif y&= \dpd{x}{r}\dif r+\dpd{y}{\varphi}\dif \varphi = \sin\varphi\dif
    r+r\cos\varphi\dif \varphi\,.
\end{align}
Plugging this into \eqref{eq:cartline} gives the line element in polar coordinates
\begin{equation}
    \dif s^2=\dif r^2+r^2\dif \varphi^2
\end{equation}
\begin{figure}
    \centering
        \begin{tikzpicture}[scale=2]
            \draw [<->,thick] (0,2) node [above] {$\phantom{y}$} |- (2,0) node
            [right] {$\phantom{x}$}; \draw [help lines,dashed](0,1.25) -|
            (1.25,0); \draw [->] (0,0) -- (1.25,1.25);
            %\node [above] at (.6250,1.25) {$x$};
            %\node [right] at (1.25,.6250) {$y$};
            \node [left]at (0,1.25) {$y$};
            \node [below]at (1.25,0) {$x$};
        \end{tikzpicture}
        \begin{tikzpicture}[scale=2]
            \draw [<->,thick] (0,2)  node [above] {$y$} |- (2,0) node [right]
            {$x$}; \draw (0,1.41) arc [radius=1.41, start angle=90, end
            angle=0]; \draw [->] (0,0) -- (1,1);
            \draw [help lines,<-] (0.4,0.4) arc [radius=0.565685, start angle=45, end angle=0];
            \node [above] at (0.4,0.4) {$r$};
            \node [right] at (0.5,0.25) {$\varphi$};
            \node [left]at (0,1.25) {$\phantom{y}$};
            \node [below]at (1.25,0) {$\phantom{x}$};
        \end{tikzpicture}
    \caption{Flat space, described by eighter cartesian (left) or polar
    coordinates.}
\end{figure}
In matrix form
\begin{equation}
    \dif s^2=
    \begin{bmatrix}
        \dif r& \dif \varphi
    \end{bmatrix}
    \begin{bmatrix}
        1& 0\\
        0& r^2\\
    \end{bmatrix}
    \begin{bmatrix}
        \dif r\\ \dif \varphi
    \end{bmatrix}\, .
\end{equation}
The matrix
\begin{equation}
    g(\vec{r})=
    \begin{bmatrix}
        1& 0\\
        0& r^2\\
    \end{bmatrix}\, ,
\end{equation}
is called the \emph{metric}.
In general we have
\begin{equation}
    \dif s^2 = g_{ij}\dif x^i\dif x^j\, .
\end{equation}
The idea is to keep the law of inertia, i.e. particles still move on straight
line. However, we need to generalize the concept of a 'straight' line, in a
curved space.
\section{Variation Principle}
We know that straight lines are curves minimizing the distance between two
points. We generalize this concept to curved space by an variation principle.
Again we take a look at flat space, but with curved coordinates.
The length $S$ of a curve $\gamma$ with $\gamma^i(\lambda) = x^i(\lambda)$ is
given by the integral
\begin{equation}
    S=\int_{\gamma}\sqrt{\dif s^2} =
    \int_{\gamma}\sqrt{\tensor{g}{_i_j}\dif \tensor{x}{^i}\dif
    \tensor{x}{^j}}=\int_{a}^{b}\sqrt{\tensor{g}{_i_j}\dod{\tensor{x}{^i}}{\lambda}
    \dod{\tensor{x}{^j}}{\lambda}}\dif \lambda\, .
\end{equation}
As stated above generalised straight lines satisfy $\delta S = 0$. If we define
$L:=\left(\tensor{g}{_i_j}\od{\tensor{x}{^i}}{\lambda}
\od{\tensor{x}{^j}}{\lambda}\right)^{\nicefrac{1}{2}}$, $S$ takes a form
familiar from classical mechanics:
\begin{equation}
    S=\int_a^b L\dif \lambda\, .
\end{equation}
The extremal condition implies the Euler Lagrange equations
\begin{equation}
    \dod{}{\lambda}\pd{L}{\left(\pd{\tensor{x}{^i}}{\lambda}\right)}
    -\pd{L}{\tensor{x}{^i}}
    =0\, .		\end{equation}
We can calculate the relevant terms to 
\begin{align}
\dpd{L}{\tensor{x}{^i}}&=\frac{1}{2\sqrt{g_{ij}\od{x^i}{\lambda}
\od{x^j}{\lambda}}}\tensor{g}{_j_k_{,i}}\dod{x^j}{\lambda}
\dod{x^k}{\lambda}\,,\\
\dpd{L}{\left(\pd{\tensor{x}{^i}}{\lambda}\right)}
&=\frac{1}{\sqrt{g_{ij}\od{x^i}{\lambda}
\od{x^j}{\lambda}}}\tensor{g}{_j_i}\dod{x^j}{\lambda}\, .
\end{align}
If we choose the parameter $\lambda$ so that we are parametrised by the arc
length\footnote{this is impossible for null i.e. lightlike geodesics, it can be
shown however, that the resulting equation also holds true for null geodesics.}
i.e.
\begin{equation}
\od{}{\lambda}\left(\sqrt{g_{ij}\od{x^i}{\lambda}\od{x^j}{\lambda}}\right)=0\,,
\end{equation}
the Euler Lagrange equations simplify to
\begin{equation}
0=\frac{1}{\sqrt{\tensor{g}{_i_j}\od{\tensor{x}{^j}}{\lambda}
\od{\tensor{x}{^j}}{\lambda}}}\dod{}{\lambda}
\left(\tensor{g}{_j_i}\dod{\tensor{x}{^j}}{\lambda}\right)
-\frac{1}{2\sqrt{\tensor{g}{_i_j}\od{x^i}{\lambda}
\od{\tensor{x}{^j}}{\lambda}}}\tensor{g}{_j_k_{,i}}\dod{\tensor{x}{^j}}{\lambda}
\dod{\tensor{x}{^k}}{\lambda}\,,
\end{equation}
or equivalently
\begin{equation}
\begin{split}
0
&=\dod{}{\lambda}\left(\tensor{g}{_j_i}\dod{\tensor{x}{^j}}{\lambda}\right)
-\frac{1}{2}\tensor{g}{_j_k_{,i}}\dod{x^a}{\lambda}
\dod{x^k}{\lambda}\\
&=\tensor{g}{_j_i_{,k}}\dod{\tensor{x}{^j}}{\lambda}\dod{\tensor{x}{^k}}{\lambda}
+\tensor{g}{_j_i}\dod[2]{\tensor{x}{^j}}{\lambda}
-\frac{1}{2}\tensor{g}{_j_k_{,i}}\dod{\tensor{x}{^j}}{\lambda}\\
&=\tensor{g}{_j_i}\dod[2]{\tensor{x}{^j}}{\lambda}
+\frac{1}{2}\left(\tensor{g}{_j_i_{,k}}+\tensor{g}{_i_j_{,k}}
-\tensor{g}{_j_k_{,i}}\right)\dod{\tensor{x}{^j}}{\lambda}
\dod{\tensor{x}{^k}}{\lambda}\label{eq:PreGeo}\,.
\end{split}
\end{equation}
The term invoking derivatives of the metric defines the \emph{Christoffel
symbols of the first kind}
\begin{equation}
    \csym{j}{k}{i}:=\frac{1}{2}
    \left(\tensor{g}{_j_i_{,k}}+\tensor{g}{_i_j_{,k}} -\tensor{g}{_j_k_{,i}}\right)\, .
\end{equation}
It is convenient to multiply \eqref{eq:PreGeo} by the inverse metric $g^{li}$ so
that we obtain the \emph{geodesic equation}
\begin{equation}
    0 =
    \od[2]{\tensor{x}{^l}}{\lambda}
    +\cSym{l}{j}{k}\od{\tensor{x}{^j}}{\lambda}\od{\tensor{x}{^k}}{\lambda}\,
    .\label{eq:geodeq}
\end{equation}
Where $\cSym{l}{j}{k}$ are the \emph{Christoffel symbols of the second kind}
\begin{equation}
    \cSym{l}{j}{k}:=g^{li}\csym{j}{k}{i}=\frac{1}{2}g^{li}
    \left(\tensor{g}{_j_i_{,k}}+\tensor{g}{_i_j_{,k}} -\tensor{g}{_j_k_{,i}}\right)\, .
\end{equation}
% remark is obsolete as long as bracket notation for christoffel symbols is used
%\begin{remark}
%Although the notation looks as the Christoffel symbols form a tensor, however
% they do not.
%\end{remark}
In flat space we have $\tensor{g}{_i_j}=\tensor{\eta}{_i_j}$ and can easily
check that all Christoffel symbols vanish. We therefore recover the ordinary equation of motion for a free particle
\begin{equation}
    0 = \od[2]{\tensor{x}{^i}}{\lambda}\, .
\end{equation}
% \begin{example}
% Suppose a observer follows a free falling body in a homogeneous field.
% Therefore a transformation between the system of the earth and the one of the body are given by
% (for simplicity we only consider the coordinate along it is falling)
% \begin{equation}
%     (t,x)\to\left(t,x-\frac{1}{2}gt^2\right)
% \end{equation}
% Analogous to the Riemannian case discussed before, the line element takes the form
% \begin{equation}
%     \begin{split}
% \dif s^2&=-\dif t^2 +\dif x^2\\
% &=-\dif t'^2+(\dif x'- gt\dif t')(\dif x'- gt\dif t')\\
% &=(g^2t'^2-1)\dif t'^2-2gt\dif x'\dif t'+\dif x'^2
% \end{split}
% \end{equation}
% \end{example}
% \section{Newtonian Limit}
