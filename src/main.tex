% !TEX program = pdflatex
% !TEX encoding = UTF-8

\documentclass[a4paper,oneside,12pt]{scrreprt}

%%% PACKAGES + MODIFICATIONS%%%
 
%language and encoding
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
%\usepackage{lmodern}
\usepackage[english,ngerman]{babel}

%graphics
\usepackage{graphicx}
\usepackage{xcolor}

%math
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsfonts}
\usepackage{amsthm}
\usepackage{thmtools}
\usepackage{mathtools}
\usepackage{tensor}
\usepackage{commath}
\usepackage{dsfont}		% double stroke characters
\usepackage{braket}
\usepackage{mdframed}	% framed environments that can split at page bound­aries

%science
\usepackage{units}
\usepackage{bpchem}	% type­set chem­i­cal names, for­mu­lae, etc

%layout + style
\definecolor{section_color}{rgb}{0.35,0.0,0}								% colors
\definecolor{MyGray}{rgb}{0.96,0.97,0.98}

\usepackage[bottom]{footmisc}
\usepackage[automark,headsepline]{scrlayer-scrpage} 						% headings
\renewcommand*{\headfont}{\normalfont}										% nicht kursive Kopfzeile
\usepackage{setspace}														% set space be­tween lines
\usepackage[font=small,labelfont=bf,labelsep=endash,format=plain]{caption}	% change style of captions
\usepackage[section]{placeins}												% de­fines a \FloatBar­rier com­mand, be­yond which floats may not pass.
\usepackage[protrusion=true,expansion=true]{microtype}						% sublim­i­nal re­fine­ments to­wards ty­po­graph­i­cal per­fec­tion
\addtokomafont{caption}{\small\linespread{1}\selectfont}					% Ändert Schriftgröße und Zeilenabstand bei captions
\usepackage{enumerate} % better way to config enumerates
\usepackage{pdflscape} % landscape mode
\usepackage{afterpage}
% styles for math environments
\declaretheoremstyle[														
  spaceabove = 6pt,
  spacebelow = 6pt,
  headfont = \color{section_color}\sffamily\bfseries,
  notefont = \mdseries,
  notebraces = {(}{)},
  bodyfont = \normalfont,
  postheadspace = 1em,
  qed = ,
]{mythmstyle} %theorems
\declaretheoremstyle[														
  spaceabove = 6pt,
  spacebelow = 6pt,
  headfont = \color{section_color}\sffamily\bfseries,
  notefont = \mdseries,
  notebraces = {(}{)},
  bodyfont = \normalfont,
  postheadspace = 1em,
  qed = ,
]{myrmstyle} %remarks

\renewcommand{\labelitemi}{\color{section_color}\scriptsize$\blacksquare$} 
\renewcommand{\labelenumi}{\color{section_color}\textsf{\textbf{\arabic{enumi}}}.}

%tikz
\usepackage{tikz}
\usetikzlibrary{decorations.markings,arrows.meta}

\tikzset{
	->-/.style={decoration={
			markings,
			mark=at position .85 with {\arrow{Latex}}},postaction={decorate}},
	-<-/.style={decoration={
			markings,
			mark=at position .15 with {\arrow{Latex[reversed]}}},postaction={decorate}},
}
%tables
\usepackage{tabularx}	% tab­u­lars with ad­justable-width columns
\usepackage{multirow}	% create tab­u­lar cells span­ning mul­ti­ple rows
\usepackage{booktabs}	% publi­ca­tion qual­ity ta­bles in LaTeX
\usepackage{array}
\usepackage{dcolumn}	% align on the dec­i­mal point of num­bers in tab­u­lar columns

%hyperref
\usepackage[pdftex]{hyperref}
\hypersetup{
	pdftitle={General Relativity},
	pdfsubject={General Relativity},
	pdfkeywords={general,relativity,space,time,minkowksi},
	pdfauthor={Michael Ruf and Benjamin Rottler},
	pdfcreator={Michael Ruf and Benjamin Rottler},
	pdfproducer={Michael Ruf and Benjamin Rottler},
	bookmarksnumbered=true, % bookmarks are numbered
	bookmarksopen=true,     % show bookmarks at start of pdf viewer
	bookmarksopenlevel=2,   % level to which the bookmarks are opened
	bookmarksdepth=3,       % depth of bookmarks 
    unicode=true,           % non-Latin characters in pdf viewer's bookmarks
    pdftoolbar=false,       % show pdf viewer's toolbar?
    pdfmenubar=true,        % show pdf viewer's menu?
    pdffitwindow=false,     % window fit to page when opened
    pdfstartview={FitH},    % fits the width of the page to the window
    pdfnewwindow=true,      % links in new window
    pdfborder={0 0 1},		% no border for links
    colorlinks=false,		% false: black links; true: colored links
    linkcolor=section_color,         % color of internal links (change box color with
    % linkbordercolor)
    citecolor=green,        % color of links to bibliography
    filecolor=magenta,      % color of file links
    urlcolor=blue			% color of external links
}
\usepackage{nameref}

%general stuff
\usepackage{cite}
\usepackage{glossaries}	% create glos­saries and lists of acronyms


%%% NEW COMMANDS %%%

\newcommand\grad{\ensuremath{^\circ}}
\newcommand{\imI}{\ensuremath{\mathrm{i}}}
\newcommand{\Reals}{\ensuremath{\mathbb{R}}}
\newcommand{\Complex}{\ensuremath{\mathbb{C}}}
\newcommand{\Sphere}{\ensuremath{\mathbb{S}}}
\newcommand{\transpose}{^\top}
\newcommand{\cSym}[3]{\ensuremath{\begin{Bmatrix} #1 \\ #2 #3 \end{Bmatrix}}}
\newcommand{\csym}[3]{\ensuremath{[#1 #2,\, #3]}}
\newcommand{\affin}[3]{\ensuremath{\Gamma^{#1}_{#2 #3}}}
\newcommand{\landauO}{\mathcal{O}}
\newcommand{\name}[1]{\textsc{#1}}
\newcommand{\fourint}{\int\dif{}^4 x\,}
\DeclareMathOperator{\tr}{Tr}
\DeclareMathOperator{\re}{Re}
\DeclareMathOperator{\im}{Im}
\DeclareMathOperator{\id}{id}
\DeclareMathOperator{\Div}{div}
\let\originalleft\left  %fix bracket spacing when using \left( \right)
\let\originalright\right
\renewcommand{\left}{\mathopen{}\mathclose\bgroup\originalleft}
\renewcommand{\right}{\aftergroup\egroup\originalright}
\renewcommand{\vec}{\mathbf}
\def\mathunderline#1#2{\color{#1}\underline{{\color{black}#2}}\color{black}}
\newcommand{\liedif}[2]{\ensuremath{\mathcal{L}_{#1}#2}}
\newcommand{\lagrangian}{\mathcal{L}}
\DeclareMathOperator{\diag}{diag}
\newcommand{\const}{\text{const.}}
\DeclareMathOperator{\difD}{D}

%new environments
\newenvironment{thm}[1][]{%
  \definecolor{shadethmcolor}{rgb}{.9,.9,.95}%
  \definecolor{shaderulecolor}{rgb}{0.0,0.0,0.4}%
  %\setlength{\shadeboxrule}{1.5pt}%
  \begin{thms}[#1]\hspace*{1mm}%
}{\end{thms}}
\theoremstyle{definition}
\declaretheorem[
  style = mythmstyle,
  name = Theorem,
  shaded = {
    bgcolor = MyGray,
    padding = 2mm,
    textwidth = 0.98\textwidth
}
]{theorem}
\declaretheorem[
  style = mythmstyle,
  name = Definition,
  numberlike=theorem,
  shaded = {
    bgcolor = MyGray,
    padding = 2mm,
    textwidth = 0.98\textwidth
}
]{definition}
\declaretheorem[
  style = myrmstyle,
  name = Remark,
  numberlike=theorem,
  shaded = {
    bgcolor = white,
    padding = 2mm,
    textwidth = 0.98\textwidth
}
]{remark}
\declaretheorem[
style = myrmstyle,
name = Aside,
numberlike=theorem,
shaded = {
bgcolor = white,
padding = 2mm,
textwidth = 0.98\textwidth
}
]{sidenote}
\declaretheorem[
  style = myrmstyle,
  name = Example,
  numberlike=theorem,
  shaded = {
    bgcolor = white,
    padding = 2mm,
    textwidth = 0.98\textwidth
}
]{example}
% 
% \makeatletter
% \newtoks\FTN@ftn
% \def\pushftn{%
%  \let\@footnotetext\FTN@ftntext\let\@xfootnotenext\FTN@xftntext
%   \let\@xfootnote\FTN@xfootnote}
% \def\popftn{%
%  \global\FTN@ftn\expandafter{\expandafter}\the\FTN@ftn}
% \long\def\FTN@ftntext#1{%
%   \edef\@tempa{\the\FTN@ftn\noexpand\footnotetext
%                     [\the\csname c@\@mpfn\endcsname]}%
%   \global\FTN@ftn\expandafter{\@tempa{#1}}}%
% \long\def\FTN@xftntext[#1]#2{%
%   \global\FTN@ftn\expandafter{\the\FTN@ftn\footnotetext[#1]{#2}}}
% \def\FTN@xfootnote[#1]{%
%    \begingroup
%      \csname c@\@mpfn\endcsname #1\relax
%      \unrestored@protected@xdef\@thefnmark{\thempfn}%
%    \endgroup
%    \@footnotemark\FTN@xftntext[#1]}


%\newtheorem*{sidenote}{Sidenote}
%\newtheorem*{example}{Example}
\newenvironment{tabulars}[1]{\renewcommand*{\arraystretch}{2}\tabular{#1}}{\endtabular}		% stretched table

%%% DOCUMENT %%%

\begin{document}
\selectlanguage{english}
\onehalfspacing


\hypersetup{pageanchor=false} %stop page numbering (hyperref) to prevent for double page numers

\input{titlepage}
\thispagestyle{empty}
\newpage

\pagenumbering{roman}
\setcounter{page}{1}
\cfoot[- \textit{\pagemark} -]{- \textit{\pagemark} -}

\tableofcontents
\newpage

\pagenumbering{arabic} 
\hypersetup{pageanchor=true} %start page numbering again
\setcounter{page}{1}
\cfoot[\pagemark]{\pagemark}

\input{01-newtonian-gravity}
\input{02-special-relativity}
\input{03-gravity-and-geometry}
\input{04-differential-geometry}
\input{05-einsteins-field-equations}
\input{06-energy-momentum-tensor}
\input{07-linearised-theory-and-newtonian-limit}
\input{08-gravitational-waves}
\input{09-schwarzschild-solution}
\input{10-experimental-tests}
\input{11-black-holes}
\input{12-cosmology}

\end{document}
